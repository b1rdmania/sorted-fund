<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sorted.fund - Pricing Calculator</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 40px 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .header {
      text-align: center;
      color: white;
      margin-bottom: 40px;
    }

    .header h1 {
      font-size: 48px;
      font-weight: 700;
      margin-bottom: 10px;
    }

    .header p {
      font-size: 20px;
      opacity: 0.9;
    }

    .calculator {
      background: white;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      padding: 40px;
      margin-bottom: 30px;
    }

    .section {
      margin-bottom: 40px;
    }

    .section-title {
      font-size: 24px;
      font-weight: 600;
      color: #1a202c;
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 2px solid #e2e8f0;
    }

    .input-group {
      margin-bottom: 25px;
    }

    .input-label {
      display: block;
      font-size: 14px;
      font-weight: 500;
      color: #4a5568;
      margin-bottom: 8px;
    }

    .input-wrapper {
      position: relative;
    }

    input[type="number"],
    input[type="range"] {
      width: 100%;
      padding: 12px;
      font-size: 16px;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      transition: border-color 0.2s;
    }

    input[type="number"]:focus {
      outline: none;
      border-color: #667eea;
    }

    input[type="range"] {
      padding: 0;
      height: 8px;
      background: #e2e8f0;
      border: none;
      border-radius: 4px;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      background: #667eea;
      cursor: pointer;
      border-radius: 50%;
    }

    input[type="range"]::-moz-range-thumb {
      width: 20px;
      height: 20px;
      background: #667eea;
      cursor: pointer;
      border-radius: 50%;
      border: none;
    }

    .range-value {
      display: inline-block;
      margin-left: 10px;
      font-weight: 600;
      color: #667eea;
    }

    .results {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }

    .result-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-radius: 12px;
      padding: 25px;
      color: white;
    }

    .result-card h3 {
      font-size: 18px;
      opacity: 0.9;
      margin-bottom: 10px;
      font-weight: 500;
    }

    .result-card .amount {
      font-size: 36px;
      font-weight: 700;
      margin-bottom: 5px;
    }

    .result-card .period {
      font-size: 14px;
      opacity: 0.8;
    }

    .pricing-tiers {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .tier {
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      padding: 25px;
      transition: all 0.3s;
      cursor: pointer;
    }

    .tier:hover {
      border-color: #667eea;
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(102, 126, 234, 0.2);
    }

    .tier.recommended {
      border-color: #667eea;
      background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%);
    }

    .tier-name {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 10px;
      color: #1a202c;
    }

    .tier-price {
      font-size: 32px;
      font-weight: 700;
      color: #667eea;
      margin-bottom: 5px;
    }

    .tier-period {
      color: #718096;
      margin-bottom: 15px;
    }

    .tier-features {
      list-style: none;
      margin-top: 15px;
    }

    .tier-features li {
      padding: 8px 0;
      color: #4a5568;
      font-size: 14px;
    }

    .tier-features li:before {
      content: "âœ“ ";
      color: #667eea;
      font-weight: bold;
      margin-right: 8px;
    }

    .badge {
      display: inline-block;
      background: #667eea;
      color: white;
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 10px;
    }

    .comparison-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    .comparison-table th,
    .comparison-table td {
      padding: 15px;
      text-align: left;
      border-bottom: 1px solid #e2e8f0;
    }

    .comparison-table th {
      background: #f7fafc;
      font-weight: 600;
      color: #1a202c;
    }

    .comparison-table tr:hover {
      background: #f7fafc;
    }

    .highlight {
      color: #667eea;
      font-weight: 600;
    }

    .info-box {
      background: #edf2f7;
      border-left: 4px solid #667eea;
      padding: 15px 20px;
      border-radius: 8px;
      margin-top: 20px;
    }

    .info-box h4 {
      color: #1a202c;
      margin-bottom: 8px;
      font-size: 16px;
    }

    .info-box p {
      color: #4a5568;
      font-size: 14px;
      line-height: 1.6;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ðŸ’° Pricing Calculator</h1>
      <p>Find the perfect pricing model for your gasless transaction platform</p>
    </div>

    <div class="calculator">
      <!-- Input Section -->
      <div class="section">
        <h2 class="section-title">ðŸ“Š Your Customer Metrics</h2>

        <div class="input-group">
          <label class="input-label">Number of Customers</label>
          <input type="range" id="numCustomers" min="1" max="100" value="10" oninput="calculate()">
          <span class="range-value" id="numCustomersValue">10</span>
        </div>

        <div class="input-group">
          <label class="input-label">Average Monthly Active Users per Customer</label>
          <input type="range" id="avgUsers" min="100" max="100000" value="5000" step="100" oninput="calculate()">
          <span class="range-value" id="avgUsersValue">5,000</span>
        </div>

        <div class="input-group">
          <label class="input-label">Average Transactions per User per Month</label>
          <input type="range" id="txPerUser" min="1" max="500" value="50" oninput="calculate()">
          <span class="range-value" id="txPerUserValue">50</span>
        </div>

        <div class="input-group">
          <label class="input-label">Average Gas Cost per Transaction (in USD)</label>
          <input type="number" id="gasCost" value="0.001" step="0.0001" oninput="calculate()">
        </div>
      </div>

      <!-- Pricing Model Inputs -->
      <div class="section">
        <h2 class="section-title">ðŸ’µ Your Pricing Models</h2>

        <div class="input-group">
          <label class="input-label">Price per Transaction (USD)</label>
          <input type="number" id="pricePerTx" value="0.002" step="0.0001" oninput="calculate()">
        </div>

        <div class="input-group">
          <label class="input-label">Price per Active Wallet (USD/month)</label>
          <input type="number" id="pricePerWallet" value="0.10" step="0.01" oninput="calculate()">
        </div>

        <div class="input-group">
          <label class="input-label">Gas Markup Percentage (%)</label>
          <input type="range" id="gasMarkup" min="0" max="100" value="20" oninput="calculate()">
          <span class="range-value" id="gasMarkupValue">20%</span>
        </div>
      </div>

      <!-- Results -->
      <div class="section">
        <h2 class="section-title">ðŸ“ˆ Revenue Projections</h2>

        <div class="results">
          <div class="result-card">
            <h3>Per-Transaction Model</h3>
            <div class="amount" id="revenuePerTx">$0</div>
            <div class="period">Monthly Recurring Revenue</div>
          </div>

          <div class="result-card">
            <h3>Per-Wallet Model</h3>
            <div class="amount" id="revenuePerWallet">$0</div>
            <div class="period">Monthly Recurring Revenue</div>
          </div>

          <div class="result-card">
            <h3>Gas Markup Model</h3>
            <div class="amount" id="revenueGasMarkup">$0</div>
            <div class="period">Monthly Recurring Revenue</div>
          </div>
        </div>

        <div class="info-box">
          <h4>ðŸ’¡ Key Insights</h4>
          <p id="insights"></p>
        </div>
      </div>

      <!-- Comparison Table -->
      <div class="section">
        <h2 class="section-title">ðŸ“Š Model Comparison</h2>
        <table class="comparison-table">
          <thead>
            <tr>
              <th>Metric</th>
              <th>Per-Transaction</th>
              <th>Per-Wallet</th>
              <th>Gas Markup</th>
            </tr>
          </thead>
          <tbody id="comparisonTableBody">
          </tbody>
        </table>
      </div>

      <!-- Recommended Tiers -->
      <div class="section">
        <h2 class="section-title">ðŸŽ¯ Recommended Subscription Tiers</h2>
        <div class="pricing-tiers">
          <div class="tier">
            <div class="tier-name">Free</div>
            <div class="tier-price">$0</div>
            <div class="tier-period">forever</div>
            <ul class="tier-features">
              <li>10,000 transactions/month</li>
              <li>3 projects</li>
              <li>Basic analytics</li>
              <li>Community support</li>
              <li>All chains included</li>
            </ul>
          </div>

          <div class="tier recommended">
            <span class="badge">RECOMMENDED</span>
            <div class="tier-name">Pro</div>
            <div class="tier-price">$49</div>
            <div class="tier-period">per month</div>
            <ul class="tier-features">
              <li>50,000 transactions/month</li>
              <li>Unlimited projects</li>
              <li>Advanced analytics</li>
              <li>Email support</li>
              <li>Webhooks & events</li>
              <li>Custom gas policies</li>
            </ul>
          </div>

          <div class="tier">
            <div class="tier-name">Scale</div>
            <div class="tier-price">$199</div>
            <div class="tier-period">per month</div>
            <ul class="tier-features">
              <li>500,000 transactions/month</li>
              <li>Everything in Pro</li>
              <li>Priority support</li>
              <li>White-label option</li>
              <li>Custom SLAs</li>
              <li>Dedicated account manager</li>
            </ul>
          </div>

          <div class="tier">
            <div class="tier-name">Enterprise</div>
            <div class="tier-price">Custom</div>
            <div class="tier-period">contact sales</div>
            <ul class="tier-features">
              <li>Millions of transactions</li>
              <li>Dedicated infrastructure</li>
              <li>99.9% uptime SLA</li>
              <li>Phone support</li>
              <li>Custom integrations</li>
              <li>Volume discounts</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Customer Tier Distribution -->
      <div class="section">
        <h2 class="section-title">ðŸŽ® Estimated Tier Distribution</h2>
        <table class="comparison-table">
          <thead>
            <tr>
              <th>Tier</th>
              <th>Customers</th>
              <th>Total Transactions/mo</th>
              <th>Revenue</th>
            </tr>
          </thead>
          <tbody id="tierDistribution">
          </tbody>
        </table>
        <div class="info-box">
          <h4>ðŸ“Œ Tier Distribution Assumptions</h4>
          <p>Free tier: 60% of users (10k txs avg) â€¢ Pro tier: 25% (30k txs avg) â€¢ Scale tier: 12% (200k txs avg) â€¢ Enterprise: 3% (1M+ txs avg)</p>
        </div>
      </div>
    </div>
  </div>

  <script>
    function formatNumber(num) {
      return num.toLocaleString('en-US');
    }

    function formatCurrency(num) {
      return '$' + num.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 });
    }

    function calculate() {
      // Get inputs
      const numCustomers = parseInt(document.getElementById('numCustomers').value);
      const avgUsers = parseInt(document.getElementById('avgUsers').value);
      const txPerUser = parseInt(document.getElementById('txPerUser').value);
      const gasCost = parseFloat(document.getElementById('gasCost').value);
      const pricePerTx = parseFloat(document.getElementById('pricePerTx').value);
      const pricePerWallet = parseFloat(document.getElementById('pricePerWallet').value);
      const gasMarkup = parseInt(document.getElementById('gasMarkup').value);

      // Update range displays
      document.getElementById('numCustomersValue').textContent = formatNumber(numCustomers);
      document.getElementById('avgUsersValue').textContent = formatNumber(avgUsers);
      document.getElementById('txPerUserValue').textContent = formatNumber(txPerUser);
      document.getElementById('gasMarkupValue').textContent = gasMarkup + '%';

      // Calculate totals
      const totalUsers = numCustomers * avgUsers;
      const totalTxsPerMonth = totalUsers * txPerUser;
      const totalGasCost = totalTxsPerMonth * gasCost;

      // Calculate revenue for each model
      const revenuePerTx = totalTxsPerMonth * pricePerTx;
      const revenuePerWallet = totalUsers * pricePerWallet;
      const revenueGasMarkup = totalGasCost * (gasMarkup / 100);

      // Update results
      document.getElementById('revenuePerTx').textContent = formatCurrency(revenuePerTx);
      document.getElementById('revenuePerWallet').textContent = formatCurrency(revenuePerWallet);
      document.getElementById('revenueGasMarkup').textContent = formatCurrency(revenueGasMarkup);

      // Generate insights
      const bestModel = Math.max(revenuePerTx, revenuePerWallet, revenueGasMarkup);
      let bestModelName = '';
      if (bestModel === revenuePerTx) bestModelName = 'Per-Transaction';
      else if (bestModel === revenuePerWallet) bestModelName = 'Per-Wallet';
      else bestModelName = 'Gas Markup';

      const insights = `
        With ${formatNumber(numCustomers)} customers averaging ${formatNumber(avgUsers)} users each,
        you'd process ${formatNumber(totalTxsPerMonth)} transactions per month.
        Your best model is <strong>${bestModelName}</strong> at ${formatCurrency(bestModel)}/month MRR.
        ${revenueGasMarkup < 100 ? 'âš ï¸ Gas markup revenue is too low on L2s - avoid this model.' : ''}
        ${revenuePerTx > 5000 ? 'âœ… Per-transaction pricing looks viable!' : ''}
        ${revenuePerWallet > 5000 ? 'âœ… Per-wallet pricing looks viable!' : ''}
      `;
      document.getElementById('insights').innerHTML = insights;

      // Update comparison table
      const costPerTx = gasCost;
      const marginPerTx = pricePerTx;
      const marginPerWallet = pricePerWallet / txPerUser;
      const marginGasMarkup = gasCost * (gasMarkup / 100);

      const comparisonData = [
        ['Total Monthly Transactions', formatNumber(totalTxsPerMonth), formatNumber(totalTxsPerMonth), formatNumber(totalTxsPerMonth)],
        ['Revenue per Transaction', '$' + pricePerTx.toFixed(4), '$' + marginPerWallet.toFixed(4), '$' + marginGasMarkup.toFixed(4)],
        ['Monthly Revenue', formatCurrency(revenuePerTx), formatCurrency(revenuePerWallet), formatCurrency(revenueGasMarkup)],
        ['Annual Revenue', formatCurrency(revenuePerTx * 12), formatCurrency(revenuePerWallet * 12), formatCurrency(revenueGasMarkup * 12)],
        ['Profit Margin', ((pricePerTx - gasCost) / pricePerTx * 100).toFixed(1) + '%',
         ((pricePerWallet - (txPerUser * gasCost)) / pricePerWallet * 100).toFixed(1) + '%',
         gasMarkup + '%']
      ];

      const tbody = document.getElementById('comparisonTableBody');
      tbody.innerHTML = comparisonData.map(row => `
        <tr>
          <td><strong>${row[0]}</strong></td>
          <td class="${row[0] === 'Monthly Revenue' && revenuePerTx === bestModel ? 'highlight' : ''}">${row[1]}</td>
          <td class="${row[0] === 'Monthly Revenue' && revenuePerWallet === bestModel ? 'highlight' : ''}">${row[2]}</td>
          <td class="${row[0] === 'Monthly Revenue' && revenueGasMarkup === bestModel ? 'highlight' : ''}">${row[3]}</td>
        </tr>
      `).join('');

      // Calculate tier distribution
      const freeTierCustomers = Math.floor(numCustomers * 0.60);
      const proTierCustomers = Math.floor(numCustomers * 0.25);
      const scaleTierCustomers = Math.floor(numCustomers * 0.12);
      const enterpriseCustomers = Math.ceil(numCustomers * 0.03);

      const freeTierTxs = freeTierCustomers * 10000; // 10k txs average
      const proTierTxs = proTierCustomers * 30000; // 30k txs average
      const scaleTierTxs = scaleTierCustomers * 200000; // 200k txs average
      const enterpriseTxs = enterpriseCustomers * 1000000; // 1M+ txs average

      const freeTierRevenue = 0;
      const proTierRevenue = proTierCustomers * 49;
      const scaleTierRevenue = scaleTierCustomers * 199;
      const enterpriseRevenue = enterpriseCustomers * 999;

      const totalTierRevenue = freeTierRevenue + proTierRevenue + scaleTierRevenue + enterpriseRevenue;

      const tierData = [
        ['Free', formatNumber(freeTierCustomers), formatNumber(freeTierTxs), formatCurrency(freeTierRevenue)],
        ['Pro ($49/mo)', formatNumber(proTierCustomers), formatNumber(proTierTxs), formatCurrency(proTierRevenue)],
        ['Scale ($199/mo)', formatNumber(scaleTierCustomers), formatNumber(scaleTierTxs), formatCurrency(scaleTierRevenue)],
        ['Enterprise (~$999/mo)', formatNumber(enterpriseCustomers), formatNumber(enterpriseTxs), formatCurrency(enterpriseRevenue)],
        ['<strong>TOTAL</strong>', '<strong>' + formatNumber(numCustomers) + '</strong>',
         '<strong>' + formatNumber(freeTierTxs + proTierTxs + scaleTierTxs + enterpriseTxs) + '</strong>',
         '<strong class="highlight">' + formatCurrency(totalTierRevenue) + '/month</strong>']
      ];

      const tierTbody = document.getElementById('tierDistribution');
      tierTbody.innerHTML = tierData.map(row => `
        <tr>
          <td>${row[0]}</td>
          <td>${row[1]}</td>
          <td>${row[2]}</td>
          <td>${row[3]}</td>
        </tr>
      `).join('');
    }

    // Initial calculation
    calculate();
  </script>
</body>
</html>
